{"version":3,"sources":["../src/TagsInput.js"],"names":[],"mappings":"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","file":"TagsInput.js","sourcesContent":["var React = require(\"react\");\n\n\nvar TagItem = React.createClass({\n\n  onClickHandler: function() {\n    this.props.onRemove(this.props.value)\n  },\n\n  render: function() {\n    return (\n      <span className=\"rui-tags-input__tag\">{this.props.value}\n        <button type=\"button\" className=\"rui-tags-input__tag-delete-btn\" tabIndex=\"1\" title=\"Remove tag\" onClick={this.onClickHandler}>\n          <i className=\"rui-tags-input__tag-delete-btn-icon\"></i>\n        </button>\n      </span>\n    )\n  }\n\n});\n\n\nvar TagInputField = React.createClass({\n\n  getInitialState: function() {\n    return {\n      inputStyle: {},\n      value: \"\"\n    }\n  },\n\n  componentDidMount: function() {\n    this.refs.input.getDOMNode().focus();\n  },\n\n  onKeyDownHandler: function(e) {\n    if (e.keyCode === 13) {\n      this.props.onInput(this.refs.input.getDOMNode().value);\n      this.setState({\n        inputStyle: {},\n        value: \"\"\n      })\n    }\n  },\n\n  onChangeHandler: function() {\n    var input = this.refs.input.getDOMNode(),\n        helper = this.refs.helper.getDOMNode();\n    helper.innerHTML = input.value.replace(/\\s/g, \"&nbsp;\");\n    this.setState({\n      value: input.value,\n      inputStyle: {width: helper.offsetWidth + 1}\n    });\n  },\n\n  onBlurHandler: function() {\n    this.props.onInput(this.refs.input.getDOMNode().value);\n    this.props.onComplete();\n  },\n\n  render: function() {\n    return (\n      <span className=\"rui-tags-input__input-holder\">\n        <input type=\"text\"\n               className=\"rui-tags-input__input\"\n               ref=\"input\"\n               value={this.state.value}\n               style={this.state.inputStyle}\n               onKeyDown={this.onKeyDownHandler}\n               onChange={this.onChangeHandler}\n               onBlur={this.onBlurHandler} />\n        <div className=\"rui-tags-input__input-helper\" ref=\"helper\"></div>\n      </span>\n    )\n  }\n\n});\n\n\nvar TagsInput = React.createClass({\n\n  getInitialState: function() {\n    return {\n      editing: false\n    }\n  },\n\n  getDefaultProps: function() {\n    return {\n      max: Number.MAX_VALUE\n    }\n  },\n\n  propTypes: {\n    data: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    onAdd: React.PropTypes.func.isRequired,\n    onRemove: React.PropTypes.func.isRequired,\n    max: React.PropTypes.number\n  },\n\n  inputCallback: function(value) {\n    if (!value) return;\n    // We simply ignore dupes\n    var index = this.props.data.indexOf(value);\n    if (index > -1) return\n    this.props.onAdd(value);\n  },\n\n  finishedInputCallback: function() {\n    this.setState({\n      editing: false\n    })\n  },\n\n  addTagClickHandler: function() {\n    this.setState({editing: true});\n  },\n\n  removeTagCallback: function(value) {\n    this.props.onRemove(value);\n  },\n\n  render: function() {\n    var tagItems = this.props.data.map(function(value) {\n      return (\n        <TagItem key={value} value={value} onRemove={this.removeTagCallback} />\n      )\n    }, this);\n\n    var addButton = !this.state.editing ?\n                    <button type=\"button\"\n                            className=\"rui-tags-input__new-tag-btn\"\n                            tabIndex=\"-1\"\n                            title=\"Add tag\"\n                            onClick={this.addTagClickHandler}>\n                      <i className=\"rui-tags-input__new-tag-btn-icon\"></i> Add tag\n                    </button>\n                    : null;\n\n    var input = this.state.editing && this.props.data.length < this.props.max ?\n                <TagInputField onInput={this.inputCallback}\n                               onComplete={this.finishedInputCallback} />\n                : null;\n\n    return (\n      <div className=\"rui-tags-input\">\n        {tagItems}\n        {input}\n        {addButton}\n      </div>\n    )\n  }\n\n});\n\nmodule.exports = TagsInput;\n"]}